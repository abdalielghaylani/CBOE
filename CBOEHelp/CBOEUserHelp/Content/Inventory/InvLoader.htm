<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Inventory|Inventory Enterprise Form Fields" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="ChemBioOffice Enterprise Applications User Guide.xml" MadCap:SearchType="Stem">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>InvLoader</title>
        <link href="../SkinSupport/Slideshow.css" rel="stylesheet" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/help_ie.css" rel="stylesheet" />
        <script src="../SkinSupport/jquery.min.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
        <script src="../SkinSupport/MadCapTopicAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <div class="navigation">
            <table style="WIDTH: 100%;" width="100%">
                <tr valign="bottom">
                    <td width="95%" align="left" valign="bottom" style="font-family: Arial;font-size: 12pt;"><em style="font-style: italic;"></em>Inventory</td>
                </tr>
                <tr align="left" valign="top">
                    <td style="font-family: Arial;font-size: 12pt;">
                        <hr width="100%" size="0" align="center" /><b>User</b><strong>'s Guide</strong>
                    </td>
                </tr>
            </table>
        </div>
        <h1>InvLoader</h1>
        <p>Invloader (Invloader and Inventory Loader are synonymous, both nomenclatures were used in this guide meaning the same thing) uses dynamic field definitions in a XML file: Invloader.xml. Invloader expects to find the file on the middle tier in the config subdirectory of the Inventory site.  It allows the display name of the fields to be changed and it controls the ordering of the fields as they appear in the mapping grid.
It is also possible to remove fields, but careful verification is required since if there is a specific reference to a missing field, an error will be generated.  

</p>
        <p>The top element of the XML file is &lt;invloader&gt;.  Under it there are three sections:
</p>
        <p>
            <img src="../Resources/Images/Inventory images/invloader elements.gif" />
        </p>
        <p style="font-weight: normal;"><b style="text-decoration: underline;">The &lt;defaults&gt; section:</b>
        </p>
        <p>Contains only an attribute whose value is an override for the container load limit, the number of containers uploaded in one transmission to the middle tier. The default is value is 100.  If too many containers are loaded in one transmission, IIS will time out and the load will fail.  Reducing the container limit will fix this problem. A sample section would be:</p>
        <p>&lt;defaults containerlimit="25" /&gt;</p>
        <p><b style="text-decoration: underline;">The &lt;fields&gt; section:</b>
        </p>
        <p>This section is composed of &lt;field&gt; elements, whose attributes define the fields used by Invloader.  Note that their order in the file is the order they will appear in the mapping grid.  The attributes are:</p>
        <ul style="list-style-type: square;">
            <li value="1"><b>target</b>      Required.  Determines which of the three types of upload the field is used for: “PLATE”, “CONTAINER”, or “COMPOUND”.   The fields are never shared between types.</li>
            <li value="2"><b>class</b>       Optional.  Used for CONTAINER and PLATE fields.  Indicates that the field is a compound value.  “INV” indicates the value is used for Inventory compounds (defined in the INV_COMPOUNDS table), while “REG” indicates the compound will be passed to the Registration system.  “REG” fields are defined in the &lt;regfields&gt; section of this file.</li>
            <li value="3"><b>designator</b>  Required.  This is the string used to identify the field inside InvLoader.  By convention, PLATE fields begin with “P_”, CONTAINER fields with “C_”, and COMPOUND fields with “S_”.  The designators are expected to be globally unique.</li>
            <li value="4"><b>xmlparent</b>   Required.  Defines the parent element for the field inside the XML file passed to the middle tier.  The value is blank for certain fields that are processed in a special manner.  In general, the value should not be changed from that shown in the exemplar file delivered with Invloader.  For Registration fields, the value should be “COMPOUND" for PLATE fields and "REGISTERSUBSTANCE" for CONTAINER fields.</li>
            <li value="5"><b>xmlposition</b> Required.  Defines the position (attribute or subelement) of the field inside the XML file passed to the middle tier.  The value is blank for certain fields that are processed in a special manner.  In general, the value should not be changed from that shown in the exemplar file delivered with Invloader.  For Registration fields, the value should be “REGSUBSTANCE " for PLATE fields and "ELEMENT" for CONTAINER fields.</li>
            <li value="6"><b>field</b>       Required.  This is the name of the field in the XML transmitted to the middle tier.  The values are fixed for the Inventory fields. For the Registration fields, they are defined in &lt;regfields&gt; section of the file (see below).</li>
            <li value="7"><b>display</b>     Required.  This is the display name for the field.  It appears in the mapping grid and is used when the field must be identified to the user.  It may be edited freely, but very long values will not work well with the GUI.</li>
            <li value="8"><b>type</b>        Required.  The data type of the field, used for validity checking.  Values are: eText    Text value (no checking) eInteger Integer value eReal    Real number eDate    Date (locale format)</li>
            <li value="9"><b>width</b>       Optional.  The maximum number of characters allowed.  Applies to eText type values only.</li>
            <li value="10"><b>picklist</b>    Optional.  Specifies a picklist, a list of values from which a user can select a value. It is composed of a list of display-code pairs, where the user selects a display value and the corresponding code value is sent to the middle tier.  If the picklist value begins with a *, then the list is in the attribute value, with each display and value element (in that order) separated by a pipe character: |.  If there is no initial *, the value of the attribute must be the name of a &lt;picklist&gt;.  For Inventory picklists, they are defined in the the &lt;picklists&gt; section of the file (see below).  Registration picklists are defined in the GetPicklistXML.asp file in the Reg folder under the Inventory site on the middle tier.</li>
            <li value="11"><b>default</b>     Optional.  Specifies a default value for the field.  It will be displayed in the mapping grid and may be changed.  Note that for a picklist, the default value should be a display value, not a code value.</li>
            <li value="12"><b>canbelist</b>   Optional.  If present with value “Y”, indicates that the value can be a list. Supported only for Registration fields.</li>
        </ul>
        <p><b style="text-decoration: underline;">The &lt;picklists&gt; section:</b>
        </p>
        <p>This section is composed of &lt;picklist&gt; elements, whose attributes define the picklists used by Invloader.  Note that this section is used by both the Invloader client and the middle tier.  The only attribute is the “name”, which is required.  The value of the &lt;picklist&gt; element is the SQL used to retrieve the picklist.  The SQL must return two values.  The first value must be the display value, the second the code value.  If the values are the same, use SQL that returns the same value twice.</p>
        <p><b style="text-decoration: underline;">The &lt;regfields&gt; section:</b>
        </p>
        <p>This section defines the Registration fields that can be uploaded by Invloader.  Creation of a Registration compound is performed through the CreateRegistryRecord SOAP call, which has an XML argument that defines the compound (substance) being created.  The prototype for this XML is retrieved using the RetrieveNewRegistryRecord SOAP call. The text for each &lt;regfield&gt; defines the XPATH location where the field (or its list elements, see below) will be stored in the XML.  It has the following attributes:</p>
        <ul style="list-style-type: circle;">
            <li value="1">name        Required.  The name of the field being defined</li>
            <li value="2">type        Required.  The Regsitration entity to which the field is attached.  Has these values:<ul><li value="1">COMPOUND The field is attached to the compound.  The XPATH should be defined from the root</li></ul><ul><li value="1">BATCH    The field is at the batch level. The XPATH should be relative to the batch element</li></ul></li>
            <li value="3">listelement Optional.  If present, it is the name of the element(or elements for a list) that will be appended under the XPATH location, each with a text value corresponding to one value in the list field.</li>
        </ul>
        <p><b style="text-decoration: underline;">Related Topics</b>
            <br /><a href="Configuring Registration Fields for InvLoader.htm">Configuring Registration Fields for InvLoader</a>
            <br /><a href="Loading Compounds.htm">Loading Compounds</a>
        </p>
        <hr style="font-family: Arial;font-size: 10pt;" />
        <p style="text-align: right;"><b><span style="color: #646464;">PerkinElmer Inc.</span> | <span style="color: #0055a6;">For the Better</span></b>
            <br /><span style="color: #00a1de;font-weight: bold;"><span style="font-size: 9pt;">HUMAN HEALTH </span></span><b>| </b><span style="color: #6cb442;font-weight: bold;"><span style="font-size: 9pt;">ENVIRONMENTAL HEALTH</span></span>
            <br />940 Winter Street | Waltham, MA 02451<br /><a href="http://www.perkinelmer.com/informatics/support/" target="_blank">www.perkinelmer.com/informatics/support</a></p>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>